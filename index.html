<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>iBurBa PWA - AI ê°€ìƒ í”¼íŒ…</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Malgun Gothic', sans-serif;
            background: #f5f5f5;
            overflow-x: hidden;
            touch-action: pan-y;
            height: 100vh;
        }

        /* ëª¨ë°”ì¼ í”„ë ˆì„ */
        .mobile-frame {
            max-width: 390px;
            margin: 0 auto;
            background: white;
            height: 100vh;
            position: relative;
            box-shadow: 0 0 50px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        /* ìƒë‹¨ ìƒíƒœë°” */
        .status-bar {
            height: 44px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 16px;
            color: white;
            font-size: 14px;
            z-index: 100;
        }

        .status-bar .time {
            font-weight: 600;
        }

        .status-bar .icons {
            display: flex;
            gap: 8px;
        }

        /* í—¤ë” */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px 20px 30px;
            color: white;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 8px;
        }

        .header p {
            opacity: 0.9;
            font-size: 14px;
        }

        /* í†µê³„ */
        .stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 16px;
        }

        .stat-card {
            background: rgba(255,255,255,0.2);
            padding: 12px;
            border-radius: 12px;
            text-align: center;
        }

        .stat-label {
            font-size: 11px;
            opacity: 0.9;
            margin-bottom: 4px;
        }

        .stat-value {
            font-size: 24px;
            font-weight: bold;
        }

        /* ë©”ì¸ ì»¨í…ì¸  */
        .content {
            padding: 20px;
            min-height: calc(100vh - 44px - 140px - 70px);
            overflow-y: auto;
        }

        /* ì•ˆë‚´ ë°°ë„ˆ */
        .info-banner {
            background: linear-gradient(135deg, #fff3bf 0%, #ffe69c 100%);
            padding: 16px;
            border-radius: 12px;
            margin-bottom: 20px;
            font-size: 14px;
            line-height: 1.6;
        }

        .info-banner strong {
            color: #f57c00;
        }

        /* ìƒí’ˆ ê·¸ë¦¬ë“œ */
        .product-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin: 20px 0;
        }

        .product-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            position: relative;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .product-card:active {
            transform: scale(0.95);
        }

        .product-image-container {
            position: relative;
            aspect-ratio: 1;
            overflow: hidden;
        }

        .product-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .product-info {
            padding: 12px;
        }

        .product-brand {
            font-size: 11px;
            color: #666;
            margin-bottom: 4px;
        }

        .product-name {
            font-size: 13px;
            font-weight: 500;
            margin-bottom: 6px;
            line-height: 1.3;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            line-clamp: 2;
            overflow: hidden;
        }

        .product-price {
            font-size: 15px;
            font-weight: bold;
            color: #667eea;
        }

        /* ë”ë¸” íƒ­ íš¨ê³¼ */
        .doubletap-hint {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 14px;
            font-weight: bold;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
            white-space: nowrap;
            z-index: 20;
        }

        .product-card.first-tap .doubletap-hint {
            opacity: 1;
            animation: pulse 0.5s ease-in-out;
        }

        @keyframes pulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.1); }
        }

        .doubletap-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80px;
            height: 80px;
            border: 4px solid #667eea;
            border-radius: 50%;
            opacity: 0;
            pointer-events: none;
            z-index: 15;
        }

        .product-card.success-tap .doubletap-ring {
            animation: tapSuccess 0.6s ease-out;
        }

        @keyframes tapSuccess {
            0% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(0.5);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(2.5);
            }
        }

        /* ìŠ¤ì™€ì´í”„ íš¨ê³¼ */
        .swipe-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(102, 126, 234, 0.3) 50%, 
                transparent 100%);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
            z-index: 5;
        }

        .product-card.swiping .swipe-overlay {
            opacity: 1;
        }

        .swipe-icon {
            position: absolute;
            top: 50%;
            right: 12px;
            transform: translateY(-50%);
            width: 48px;
            height: 48px;
            background: #667eea;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s;
            z-index: 10;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.5);
        }

        .product-card.swiping .swipe-icon {
            opacity: 1;
            animation: swipeIcon 0.5s ease-in-out infinite;
        }

        @keyframes swipeIcon {
            0%, 100% { transform: translateY(-50%) translateX(0); }
            50% { transform: translateY(-50%) translateX(-8px); }
        }

        .swipe-progress {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 4px;
            background: #667eea;
            width: 0%;
            transition: width 0.1s linear;
            z-index: 10;
        }

        /* í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 390px;
            height: 70px;
            background: white;
            display: flex;
            justify-content: space-around;
            align-items: center;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            padding: 0 20px;
            z-index: 90;
        }

        .nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            padding: 10px;
            cursor: pointer;
            border-radius: 12px;
            transition: all 0.2s;
        }

        .nav-item:active {
            background: #f0f0f0;
            transform: scale(0.9);
        }

        .nav-item.active {
            color: #667eea;
        }

        .nav-icon {
            font-size: 24px;
        }

        .nav-label {
            font-size: 11px;
        }

        /* Toast */
        .toast {
            position: fixed;
            bottom: 90px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 16px 32px;
            border-radius: 50px;
            font-size: 15px;
            font-weight: 600;
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
            z-index: 1000;
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            gap: 12px;
            max-width: 350px;
        }

        .toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        .toast-icon {
            font-size: 20px;
        }

        /* íŠœí† ë¦¬ì–¼ ì˜¤ë²„ë ˆì´ */
        .tutorial-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.9);
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .tutorial-overlay.show {
            opacity: 1;
            pointer-events: all;
        }

        .tutorial-content {
            background: white;
            padding: 32px 24px;
            border-radius: 20px;
            max-width: 400px;
            text-align: center;
        }

        .tutorial-content h2 {
            font-size: 24px;
            margin-bottom: 16px;
            color: #333;
        }

        .tutorial-methods {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin: 24px 0;
        }

        .tutorial-method {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 16px;
            border-radius: 12px;
            text-align: left;
        }

        .tutorial-method-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tutorial-method-desc {
            font-size: 14px;
            color: #666;
            line-height: 1.5;
        }

        .tutorial-close {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
        }

        .tutorial-close:active {
            transform: scale(0.95);
        }

        /* ë°ìŠ¤í¬í†± ì•ˆë‚´ */
        @media (min-width: 768px) {
            body::before {
                content: 'ğŸ“± ëª¨ë°”ì¼ í™”ë©´ì—ì„œ ë³´ì‹œê±°ë‚˜, ë¸Œë¼ìš°ì € ì°½ì„ ì¢ê²Œ ì¡°ì ˆí•´ì£¼ì„¸ìš”';
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: #667eea;
                color: white;
                padding: 12px 24px;
                border-radius: 25px;
                font-size: 14px;
                z-index: 10000;
                box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            }
        }
    </style>
</head>
<body>
    <!-- íŠœí† ë¦¬ì–¼ ì˜¤ë²„ë ˆì´ -->
    <div class="tutorial-overlay show" id="tutorial">
        <div class="tutorial-content">
            <h2>ğŸ¯ ì‚¬ìš© ë°©ë²•</h2>
            <p style="font-size: 14px; color: #666; margin-bottom: 24px;">
                ìƒí’ˆì„ iBurBaì— ë“±ë¡í•˜ëŠ” <strong>ë‘ ê°€ì§€ ë°©ë²•</strong>ì´ ìˆìŠµë‹ˆë‹¤!
            </p>
            
            <div class="tutorial-methods">
                <div class="tutorial-method">
                    <div class="tutorial-method-title">
                        <span style="font-size: 28px;">ğŸ‘†ğŸ‘†</span>
                        <span>ë”ë¸” íƒ­</span>
                    </div>
                    <div class="tutorial-method-desc">
                        ìƒí’ˆì„ <strong>ë¹ ë¥´ê²Œ ë‘ ë²ˆ</strong> íƒ­í•˜ì„¸ìš”.<br>
                        ë¹ ë¥´ê³  ì§ê´€ì !
                    </div>
                </div>

                <div class="tutorial-method">
                    <div class="tutorial-method-title">
                        <span style="font-size: 28px;">ğŸ‘‰</span>
                        <span>ìŠ¤ì™€ì´í”„</span>
                    </div>
                    <div class="tutorial-method-desc">
                        ìƒí’ˆì„ <strong>ì™¼ìª½ì—ì„œ ì˜¤ë¥¸ìª½</strong>ìœ¼ë¡œ ì“¸ì–´ë³´ì„¸ìš”.<br>
                        ì‹ ì¤‘í•˜ê³  í™•ì‹¤!
                    </div>
                </div>
            </div>

            <button class="tutorial-close" onclick="closeTutorial()">
                ì‹œì‘í•˜ê¸° ğŸš€
            </button>
        </div>
    </div>

    <!-- ëª¨ë°”ì¼ í”„ë ˆì„ -->
    <div class="mobile-frame">
        <!-- ìƒíƒœë°” -->
        <div class="status-bar">
            <div class="time" id="currentTime">9:41</div>
            <div class="icons">
                <span>ğŸ“¶</span>
                <span>ğŸ“¡</span>
                <span>ğŸ”‹</span>
            </div>
        </div>

        <!-- í—¤ë” -->
        <div class="header">
            <h1>ğŸ‘• iBurBa</h1>
            <p>AI ê°€ìƒ í”¼íŒ… - í¸í•œ ë°©ë²•ìœ¼ë¡œ ë“±ë¡í•˜ì„¸ìš”!</p>
            
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-label">ğŸ‘†ğŸ‘† ë”ë¸” íƒ­</div>
                    <div class="stat-value" id="doubleTapCount">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">ğŸ‘‰ ìŠ¤ì™€ì´í”„</div>
                    <div class="stat-value" id="swipeCount">0</div>
                </div>
            </div>
        </div>

        <!-- ë©”ì¸ ì»¨í…ì¸  -->
        <div class="content" id="mainContent">
            <!-- ì•ˆë‚´ ë°°ë„ˆ -->
            <div class="info-banner">
                <strong>ğŸ’¡ Tip:</strong><br>
                <strong>ë”ë¸” íƒ­</strong> ë˜ëŠ” <strong>ìŠ¤ì™€ì´í”„</strong> - í¸í•œ ë°©ë²•ì„ ì„ íƒí•˜ì„¸ìš”!<br>
                ë‘ ê°€ì§€ ëª¨ë‘ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.
            </div>

            <!-- ìƒí’ˆ ê·¸ë¦¬ë“œ -->
            <div class="product-grid">
                <div class="product-card" data-id="1">
                    <div class="product-image-container">
                        <div class="doubletap-hint">í•œ ë²ˆ ë”! ğŸ‘†</div>
                        <div class="doubletap-ring"></div>
                        <div class="swipe-overlay"></div>
                        <div class="swipe-icon">âœ¨</div>
                        <div class="swipe-progress"></div>
                        <img src="https://image.msscdn.net/images/goods_img/20231127/3680329/3680329_17012282755943_500.jpg" class="product-image" alt="í›„ë“œ">
                    </div>
                    <div class="product-info">
                        <div class="product-brand">ì•¤ë”ìŠ¨ë²¨</div>
                        <div class="product-name">í´ë˜ì‹ ë¡œê³  í›„ë“œ í‹°ì…”ì¸ </div>
                        <div class="product-price">69,300ì›</div>
                    </div>
                </div>

                <div class="product-card" data-id="2">
                    <div class="product-image-container">
                        <div class="doubletap-hint">í•œ ë²ˆ ë”! ğŸ‘†</div>
                        <div class="doubletap-ring"></div>
                        <div class="swipe-overlay"></div>
                        <div class="swipe-icon">âœ¨</div>
                        <div class="swipe-progress"></div>
                        <img src="https://image.msscdn.net/images/goods_img/20240109/3755282/3755282_17046991683652_500.jpg" class="product-image" alt="ê°€ë””ê±´">
                    </div>
                    <div class="product-info">
                        <div class="product-brand">ë§ˆë¥´ë”” ë©”í¬ë¥´ë””</div>
                        <div class="product-name">ìš¸ ë¸”ë Œë“œ ê°€ë””ê±´</div>
                        <div class="product-price">89,250ì›</div>
                    </div>
                </div>

                <div class="product-card" data-id="3">
                    <div class="product-image-container">
                        <div class="doubletap-hint">í•œ ë²ˆ ë”! ğŸ‘†</div>
                        <div class="doubletap-ring"></div>
                        <div class="swipe-overlay"></div>
                        <div class="swipe-icon">âœ¨</div>
                        <div class="swipe-progress"></div>
                        <img src="https://image.msscdn.net/images/goods_img/20231019/3608758/3608758_16980186464773_500.jpg" class="product-image" alt="ì²­ë°”ì§€">
                    </div>
                    <div class="product-info">
                        <div class="product-brand">ë¦¬ë°”ì´ìŠ¤</div>
                        <div class="product-name">501 ì˜¤ë¦¬ì§€ë„ í• ë°ë‹˜</div>
                        <div class="product-price">129,000ì›</div>
                    </div>
                </div>

                <div class="product-card" data-id="4">
                    <div class="product-image-container">
                        <div class="doubletap-hint">í•œ ë²ˆ ë”! ğŸ‘†</div>
                        <div class="doubletap-ring"></div>
                        <div class="swipe-overlay"></div>
                        <div class="swipe-icon">âœ¨</div>
                        <div class="swipe-progress"></div>
                        <img src="https://image.msscdn.net/images/goods_img/20231201/3695123/3695123_17013069806988_500.jpg" class="product-image" alt="ì¬í‚·">
                    </div>
                    <div class="product-info">
                        <div class="product-brand">ë””ìŠ¤ì»¤ë²„ë¦¬</div>
                        <div class="product-name">íŒ¨ë”© ë¼ì´íŠ¸ ì¬í‚·</div>
                        <div class="product-price">95,400ì›</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
        <div class="bottom-nav">
            <div class="nav-item active">
                <div class="nav-icon">ğŸ </div>
                <div class="nav-label">í™ˆ</div>
            </div>
            <div class="nav-item">
                <div class="nav-icon">ğŸ“¸</div>
                <div class="nav-label">í”¼íŒ…</div>
            </div>
            <div class="nav-item">
                <div class="nav-icon">â¤ï¸</div>
                <div class="nav-label">ì €ì¥</div>
            </div>
            <div class="nav-item">
                <div class="nav-icon">ğŸ‘¤</div>
                <div class="nav-label">í”„ë¡œí•„</div>
            </div>
        </div>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast">
        <span class="toast-icon"></span>
        <span class="toast-text"></span>
    </div>

    <script>
        // ==========================================
        // ì „ì—­ ë³€ìˆ˜
        // ==========================================
        let doubleTapCount = 0;
        let swipeCount = 0;

        // ==========================================
        // í˜„ì¬ ì‹œê°„ í‘œì‹œ
        // ==========================================
        function updateTime() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            document.getElementById('currentTime').textContent = `${hours}:${minutes}`;
        }
        updateTime();
        setInterval(updateTime, 60000);

        // ==========================================
        // íŠœí† ë¦¬ì–¼
        // ==========================================
        function closeTutorial() {
            document.getElementById('tutorial').classList.remove('show');
            // íŠœí† ë¦¬ì–¼ì„ ë³¸ ì  ìˆëŠ”ì§€ ì €ì¥ (ë‹¤ìŒì—ëŠ” ì•ˆ ë³´ì„)
            localStorage.setItem('tutorialSeen', 'true');
        }

        // ì´ë¯¸ íŠœí† ë¦¬ì–¼ì„ ë³¸ ê²½ìš° ë°”ë¡œ ë‹«ê¸°
        if (localStorage.getItem('tutorialSeen') === 'true') {
            document.getElementById('tutorial').classList.remove('show');
        }

        // ==========================================
        // Toast í‘œì‹œ
        // ==========================================
        function showToast(message, icon) {
            const toast = document.getElementById('toast');
            const iconEl = toast.querySelector('.toast-icon');
            const textEl = toast.querySelector('.toast-text');
            
            iconEl.textContent = icon;
            textEl.textContent = message;
            
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 2500);
        }

        // ==========================================
        // í†µê³„ ì—…ë°ì´íŠ¸
        // ==========================================
        function updateStats() {
            document.getElementById('doubleTapCount').textContent = doubleTapCount;
            document.getElementById('swipeCount').textContent = swipeCount;
        }

        // ==========================================
        // í•˜ì´ë¸Œë¦¬ë“œ í„°ì¹˜ í•¸ë“¤ëŸ¬ í´ë˜ìŠ¤
        // ==========================================
        class HybridTouchHandler {
            constructor(card) {
                this.card = card;
                this.productName = card.querySelector('.product-name').textContent;
                
                // ë”ë¸” íƒ­ ë³€ìˆ˜
                this.lastTap = 0;
                
                // ìŠ¤ì™€ì´í”„ ë³€ìˆ˜
                this.startX = 0;
                this.currentX = 0;
                this.isSwiping = false;
                
                this.init();
            }
            
            init() {
                this.initDoubleTap();
                this.initSwipe();
            }
            
            // ==========================================
            // ë”ë¸” íƒ­ ì´ˆê¸°í™”
            // ==========================================
            initDoubleTap() {
                this.card.addEventListener('click', (e) => {
                    // ìŠ¤ì™€ì´í”„ ì¤‘ì´ë©´ ë”ë¸” íƒ­ ë¬´ì‹œ
                    if (this.isSwiping) return;
                    
                    const currentTime = Date.now();
                    const tapLength = currentTime - this.lastTap;
                    
                    if (tapLength < 300 && tapLength > 0) {
                        // ë”ë¸” íƒ­ ì„±ê³µ!
                        this.onDoubleTap();
                    } else {
                        // ì²« ë²ˆì§¸ íƒ­
                        this.card.classList.add('first-tap');
                        setTimeout(() => {
                            this.card.classList.remove('first-tap');
                        }, 1000);
                    }
                    
                    this.lastTap = currentTime;
                });
            }
            
            // ==========================================
            // ìŠ¤ì™€ì´í”„ ì´ˆê¸°í™”
            // ==========================================
            initSwipe() {
                this.card.addEventListener('touchstart', (e) => {
                    this.startX = e.touches[0].clientX;
                    this.currentX = this.startX;
                    this.isSwiping = false;
                }, { passive: true });
                
                this.card.addEventListener('touchmove', (e) => {
                    this.currentX = e.touches[0].clientX;
                    const diff = this.currentX - this.startX;
                    
                    // ìŠ¤ì™€ì´í”„ ì‹œì‘ (30px ì´ìƒ)
                    if (diff > 30 && !this.isSwiping) {
                        this.isSwiping = true;
                        this.card.classList.add('swiping');
                        
                        // ë”ë¸” íƒ­ íƒ€ì´ë¨¸ ë¦¬ì…‹
                        this.lastTap = 0;
                    }
                    
                    // ì§„í–‰ë„ í‘œì‹œ
                    if (this.isSwiping) {
                        const progress = Math.min((diff / 150) * 100, 100);
                        this.card.querySelector('.swipe-progress').style.width = progress + '%';
                    }
                    
                    // ìŠ¤ì™€ì´í”„ ì·¨ì†Œ
                    if (diff < 30 && this.isSwiping) {
                        this.card.classList.remove('swiping');
                        this.isSwiping = false;
                        this.card.querySelector('.swipe-progress').style.width = '0%';
                    }
                }, { passive: true });
                
                this.card.addEventListener('touchend', (e) => {
                    const diff = this.currentX - this.startX;
                    
                    // ìŠ¤ì™€ì´í”„ ì™„ë£Œ (150px ì´ìƒ)
                    if (this.isSwiping && diff > 150) {
                        this.onSwipe();
                    } else if (this.isSwiping) {
                        // ìŠ¤ì™€ì´í”„ ì·¨ì†Œ
                        this.card.classList.remove('swiping');
                        this.card.querySelector('.swipe-progress').style.width = '0%';
                    }
                    
                    this.isSwiping = false;
                }, { passive: true });
                
                this.card.addEventListener('touchcancel', (e) => {
                    this.card.classList.remove('swiping');
                    this.card.querySelector('.swipe-progress').style.width = '0%';
                    this.isSwiping = false;
                });
            }
            
            // ==========================================
            // ë”ë¸” íƒ­ ì´ë²¤íŠ¸
            // ==========================================
            onDoubleTap() {
                this.card.classList.remove('first-tap');
                this.card.classList.add('success-tap');
                
                doubleTapCount++;
                updateStats();
                
                showToast(`ë”ë¸” íƒ­ìœ¼ë¡œ ë“±ë¡! ${this.productName}`, 'ğŸ‘†ğŸ‘†');
                
                setTimeout(() => {
                    this.card.classList.remove('success-tap');
                }, 600);
            }
            
            // ==========================================
            // ìŠ¤ì™€ì´í”„ ì´ë²¤íŠ¸
            // ==========================================
            onSwipe() {
                swipeCount++;
                updateStats();
                
                showToast(`ìŠ¤ì™€ì´í”„ë¡œ ë“±ë¡! ${this.productName}`, 'ğŸ‘‰');
                
                setTimeout(() => {
                    this.card.classList.remove('swiping');
                    this.card.querySelector('.swipe-progress').style.width = '0%';
                }, 300);
            }
        }

        // ==========================================
        // ëª¨ë“  ìƒí’ˆ ì¹´ë“œì— í•¸ë“¤ëŸ¬ ì¶”ê°€
        // ==========================================
        document.querySelectorAll('.product-card').forEach(card => {
            new HybridTouchHandler(card);
        });

        // ==========================================
        // ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼
        // ==========================================
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function() {
                document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                this.classList.add('active');
            });
        });
    </script>
</body>
</html>
